<!DOCTYPE html>
<html>

<head>
    <meta name="referrer" content="no-referrer" />
    <!--可以让img标签预加载网络图片-->
    <title>图片翻转</title>
    <!-- <script type="text/javascript" src="../js/jquery-3.4.1.min.js"></script> -->
    <script type="text/javascript" src="./js/articleBasic.js"></script>
    <link rel="stylesheet" type="text/css" href="./css/articleBasic.css" />
    <style>
        /* 本地调试时去掉注释 */
        img {
            display: block;
            width: 100%;
        }

        .horizontalFlip .overturn-box {
            display: flex;
            flex-wrap: nowrap;
            justify-content: space-between;
            width: 50%;
            font-size: 1rem;
        }

        @media screen and (max-width:1366px) {

            /* 当屏幕小于1366时，执行下面css */
            .horizontalFlip .overturn-box {
                margin-left: 0;
                width: 100%;
                min-height: 15vh;
            }

        }

        @media screen and (min-width:1366px) {

            /* 当屏幕大于1366时，执行下面 */
            .horizontalFlip .overturn-box {
                margin-left: 3rem;
                width: 50%;
                min-height: 25vh;
            }

        }

        .horizontalFlip .overturn-item {
            position: relative;
            flex: 1;
            text-align: center;

        }

        .horizontalFlip .above,
        .horizontalFlip .below {
            position: absolute;
            transition: all 5s;
            animation: imgflip 10s infinite linear;
            -moz-animation: imgflip 10s infinite linear;
            -webkit-animation: imgflip 10s infinite linear;
            -o-animation: imgflip 10s infinite linear;
            width: 100%;
        }

        .horizontalFlip .overturn-content {
            box-sizing: border-box;
            margin: 0 2%;
            background: #fff;
        }

        .horizontalFlip .inside-overturn {
            -webkit-transform: rotate(180deg);
            transform: rotateY(180deg);
        }

        .horizontalFlip .above {
            /* 提高图片一的层级 */
            z-index: 9;
            /* 当元素背面显示时,隐藏起来 */
            backface-visibility: hidden;
        }

        @keyframes imgflip {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotateY(0deg);
            }

            25% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            50% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            75% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }
        }

        @-moz-keyframes imgflip {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotateY(0deg);
            }

            25% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            50% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            75% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }
        }

        @-webkit-keyframes imgflip {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotateY(0deg);
            }

            25% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            50% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            75% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }
        }

        @-o-keyframes imgflip {
            0% {
                -webkit-transform: rotate(0deg);
                transform: rotateY(0deg);
            }

            25% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            50% {
                -webkit-transform: rotate(180deg);
                transform: rotateY(180deg);
            }

            75% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }

            100% {
                -webkit-transform: rotate(360deg);
                transform: rotateY(360deg);
            }
        }

        .horizontalFlip .ellipsis {
            display: inline-block;
            width: 100%;
        }
    </style>
</head>

<body>
    <!-- 关于文件路径:本地路径不同目录../ 上传到git需改成./ 具体原因不明 -->
    <div class="content">
        <article class="article-box-subclass horizontalFlip">
            <div>
                <header class="article-header">
                    <h1>图片翻转</h1>
                </header>
                <div class="article-content">
                    <div class="pre-block">
                        <p class="indent">图片翻转:主要使用css3的动画效果(注:处于背后的一面翻转后与原始图像是成镜像显示的,需要在其外层多加一层div并旋转360°)</p>
                        <div class="block-indent">
                            <textarea name="" class="md-content"
                                style="display: none;">```&#10;  transform: rotateY(0deg);&#10;&#10;```&#10;```&#10; {&#10;    /* 提高图片一的层级 */&#10;    z-index: 9;&#10;    /* 当元素背面显示时,隐藏起来 */&#10;    backface-visibility: hidden;&#10; }&#10;```</textarea>
                            <div class="md-area"></div>
                        </div>
                        <div class="overturn-box">
                            <div class="overturn-item">
                                <div class="above">
                                    <div class="overturn-content">
                                        <img src="./img/default0.jpg"
                                            data-src="https://static.d2c.cn/img/topic/190509/520/clyd.png"
                                            class="actual-img" alt="">
                                        <span class="ellipsis">潮流运动</span>
                                    </div>
                                </div>
                                <div class="below">
                                    <div class="inside-overturn overturn-content">
                                        <img src="./img/default1.jpg"
                                            data-src="https://static.d2c.cn/img/topic/190509/520/dj.png"
                                            class="actual-img" alt="">
                                        <span class="ellipsis">度假风</span>
                                    </div>
                                </div>
                            </div>
                            <div class="overturn-item">
                                <div class="above">
                                    <div class="overturn-content">
                                        <img src="./img/default0.jpg"
                                            data-src="https://static.d2c.cn/img/topic/190509/520/dsxx.png"
                                            class="actual-img" alt="">
                                        <span class="ellipsis">都市休闲</span>
                                    </div>
                                </div>
                                <div class="below">
                                    <div class="inside-overturn overturn-content">
                                        <img src="./img/default1.jpg"
                                            data-src="https://static.d2c.cn/img/topic/190509/520/mdjt.png"
                                            class="actual-img" alt="">
                                        <span class="ellipsis">摩登街头</span>
                                    </div>
                                </div>
                            </div>
                            <div class="overturn-item">
                                <div class="above">
                                    <div class="overturn-content">
                                        <img src="./img/default0.jpg"
                                            data-src="https://static.d2c.cn/img/topic/190509/520/qsf.png"
                                            class="actual-img" alt="">
                                        <span class="ellipsis">轻奢风</span>
                                    </div>
                                </div>
                                <div class="below">
                                    <div class="inside-overturn overturn-content">
                                        <img src="./img/default1.jpg"
                                            data-src="https://static.d2c.cn/img/topic/190509/520/shf.png"
                                            class="actual-img" alt="">
                                        <span class="ellipsis">奢华风</span>
                                    </div>
                                </div>
                            </div>
                            <div class="overturn-item">
                                <div class="above">
                                    <div class="overturn-content">
                                        <img src="./img/default0.jpg" class="actual-img" alt="">
                                        <span class="ellipsis">默认</span>
                                    </div>
                                </div>
                                <div class="below">
                                    <div class="inside-overturn overturn-content">
                                        <img src="./img/default1.jpg" class="actual-img" alt="">
                                        <span class="ellipsis">默认</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <footer class="article-footer">
                    <div></div>
                </footer>
            </div>
        </article>
    </div>
    <script>
        $(function () {
            $(".horizontalFlip .actual-img").each(function (index, element) {
                var obj = $(this);
                var actualUrl = obj.attr("data-src");
                if (actualUrl) {
                    obj.attr("src", actualUrl);
                }
                if ((index + 1) == $(".horizontalFlip .actual-img").length) {
                    $(".horizontalFlip .actual-img")[0].onload = function () {
                        var that = $(this);
                        $('.horizontalFlip .overturn-item').each(function () {
                            $(this).height(that.height());
                        });
                    };
                }
            });

            $(window).resize(function () {
                $('.horizontalFlip .overturn-item').each(function () {
                    $(this).height($(".horizontalFlip .actual-img").eq(0).height());
                });
            });
        });
    </script>
</body>

</html>